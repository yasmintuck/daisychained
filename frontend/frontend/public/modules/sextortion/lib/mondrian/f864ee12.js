"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[975],{1975:(e,t,n)=>{n.r(t),n.d(t,{createUpgradePath:()=>Oj,getConverter:()=>Xj,getTransformSteps:()=>Ej,getVersionClaim:()=>Fj,upgrade:()=>Cj});var i=n(2),a=n(3537),r=n(8683),o=n(1369),l=n(5076);const z=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),d=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),u=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:d.default({value:1,unit:"px"})}),s=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),p=s.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),c=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),m=s.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:c.default({width:1,height:1,left:0,top:0})}),b=s.extend({type:l.z.literal("none")}),g=l.z.discriminatedUnion("type",[p,m,b]),f=l.z.discriminatedUnion("type",[p,b]),y=l.z.object({top:d.default({value:0,unit:"px"}),left:d.default({value:0,unit:"px"}),bottom:d.default({value:0,unit:"px"}),right:d.default({value:0,unit:"px"})}),x=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),h=x.extend({x:d.default({value:0,unit:"px"}),y:d.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:d.default({value:100,unit:"%"}),height:d.default({value:100,unit:"%"}),padding:y,fill:g,overlay:f,aspectRatioLocked:l.z.boolean(),border:u,borderRadius:l.z.object({applied:l.z.boolean().default(!1),topLeft:d.default({value:0,unit:"px"}),topRight:d.default({value:0,unit:"px"}),bottomRight:d.default({value:0,unit:"px"}),bottomLeft:d.default({value:0,unit:"px"})}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1)}),j=e=>l.z.intersection(x,e.partial()),v=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),j(e))),k=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:v(e),assets:l.z.record(l.z.string(),z).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(2)}),I=(j(h),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),S=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),w=S.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),R=S.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),P=S.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),_=l.z.discriminatedUnion("action",[R,P,w]),V=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(I).max(1),triggers:l.z.array(_),_v:l.z.literal(2)}),L=h.extend({children:l.z.array(I)}),U=k(L).extend({type:l.z.literal("group")}),C=(j(L),h.extend({altText:l.z.string().default("")})),O=k(C).extend({type:l.z.literal("image")}),E=(j(C),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>E))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),X=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:E}),F=l.z.enum(["top","middle","bottom"]),A=h.extend({text:X,textVerticalAlign:F.default("top")}),D=k(A).extend({type:l.z.literal("text")}),T=(j(A),A.extend({clipPath:l.z.literal("ellipse").nullable().default(null),altText:l.z.string().nullable().default(null)})),B=k(T).extend({type:l.z.literal("shape")}),Y=(j(T),l.z.object({default:l.z.string()})),N=h.extend({videoSources:Y}),q=k(N).extend({type:l.z.literal("video")}),$=(j(N),l.z.discriminatedUnion("type",[U,O,B,D,q])),H=l.z.object({blockuments:l.z.record(l.z.string(),V).optional(),items:l.z.record(l.z.string(),$).optional()}),M=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),G=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),J=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:G.default({value:1,unit:"px"})}),K=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Q=K.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),W=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Z=K.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:W.default({width:1,height:1,left:0,top:0})}),ee=K.extend({type:l.z.literal("none")}),te=l.z.discriminatedUnion("type",[Q,Z,ee]),ne=l.z.discriminatedUnion("type",[Q,ee]),ie=l.z.object({top:G.default({value:0,unit:"px"}),left:G.default({value:0,unit:"px"}),bottom:G.default({value:0,unit:"px"}),right:G.default({value:0,unit:"px"})}),ae=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),re=ae.extend({x:G.default({value:0,unit:"px"}),y:G.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:G.default({value:100,unit:"%"}),height:G.default({value:100,unit:"%"}),padding:ie,fill:te,overlay:ne,aspectRatioLocked:l.z.boolean(),border:J,borderRadius:l.z.object({applied:l.z.boolean().default(!1),topLeft:G.default({value:0,unit:"px"}),topRight:G.default({value:0,unit:"px"}),bottomRight:G.default({value:0,unit:"px"}),bottomLeft:G.default({value:0,unit:"px"})}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1)}),oe=e=>l.z.intersection(ae,e.partial()),le=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),oe(e))),ze=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:le(e),assets:l.z.record(l.z.string(),M).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(3)}),de=(oe(re),l.z.object({default:l.z.string()})),ue=re.extend({audioSources:de}),se=ze(ue).extend({type:l.z.literal("audio")}),pe=(oe(ue),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),ce=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),me=ce.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),be=ce.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),ge=ce.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),fe=l.z.discriminatedUnion("action",[be,ge,me]),ye=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(pe).max(1),triggers:l.z.array(fe),_v:l.z.literal(3)}),xe=re.extend({children:l.z.array(pe)}),he=ze(xe).extend({type:l.z.literal("group")}),je=(oe(xe),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>je))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),ve=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:je}),ke=l.z.enum(["top","middle","bottom"]),Ie=re.extend({text:ve,textVerticalAlign:ke.default("top")}),Se=ze(Ie).extend({type:l.z.literal("text")}),we=(oe(Ie),Ie.extend({clipPath:l.z.literal("ellipse").nullable().default(null),altText:l.z.string().nullable().default(null)})),Re=ze(we).extend({type:l.z.literal("shape")}),Pe=(oe(we),l.z.object({default:l.z.string()})),_e=re.extend({videoSources:Pe}),Ve=ze(_e).extend({type:l.z.literal("video")}),Le=(oe(_e),l.z.discriminatedUnion("type",[se,he,Re,Se,Ve])),Ue=l.z.object({blockuments:l.z.record(l.z.string(),ye).optional(),items:l.z.record(l.z.string(),Le).optional()});var Ce=n(4816);function Oe(e,t,n){const{default:i,...a}=e;return{default:t(i),...Ce(a,n)}}function Ee(e){return{...e,altText:"altText"in e?e.altText??null:void 0}}function Xe(e){return{...e,clipPath:null,altText:e.altText??null,text:{id:crypto.randomUUID(),type:"tiptap",json:{type:"doc",content:[]}},textVerticalAlign:"middle"}}function Fe(e){return"image"===e.type?function(e){return{...e,_v:3,type:"shape",states:Oe(e.states,Xe,Ee)}}(e):{...e,_v:3}}const Ae=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),De=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Te=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:De.default({value:1,unit:"px"})}),Be=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Ye=Be.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Ne=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),qe=Be.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Ne.default({width:1,height:1,left:0,top:0})}),$e=Be.extend({type:l.z.literal("none")}),He=l.z.discriminatedUnion("type",[Ye,qe,$e]),Me=l.z.discriminatedUnion("type",[Ye,$e]),Ge=l.z.object({top:De.default({value:0,unit:"px"}),left:De.default({value:0,unit:"px"}),bottom:De.default({value:0,unit:"px"}),right:De.default({value:0,unit:"px"})}),Je=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Ke=l.z.object({type:l.z.literal("ellipse")}),Qe=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),We=l.z.object({type:l.z.literal("cloud")}),Ze=l.z.discriminatedUnion("type",[Je,Ke,Qe,We]),et=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),tt=et.extend({x:De.default({value:0,unit:"px"}),y:De.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:De.default({value:100,unit:"%"}),height:De.default({value:100,unit:"%"}),padding:Ge,fill:He,overlay:Me,aspectRatioLocked:l.z.boolean(),border:Te,clipDef:Ze.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1)}),nt=e=>l.z.intersection(et,e.partial()),it=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),nt(e))),at=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:it(e),assets:l.z.record(l.z.string(),Ae).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(4)}),rt=(nt(tt),l.z.object({default:l.z.string()})),ot=tt.extend({audioSources:rt}),lt=at(ot).extend({type:l.z.literal("audio")}),zt=(nt(ot),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),dt=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),ut=dt.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),st=dt.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),pt=dt.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),ct=l.z.discriminatedUnion("action",[st,pt,ut]),mt=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(zt).max(1),triggers:l.z.array(ct),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(4)}),bt=tt.extend({children:l.z.array(zt)}),gt=at(bt).extend({type:l.z.literal("group")}),ft=(nt(bt),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>ft))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),yt=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:ft}),xt=l.z.enum(["top","middle","bottom"]),ht=tt.extend({text:yt,textVerticalAlign:xt.default("top")}),jt=at(ht).extend({type:l.z.literal("text")}),vt=(nt(ht),ht.extend({altText:l.z.string().nullable().default(null)})),kt=at(vt).extend({type:l.z.literal("shape")}),It=(nt(vt),l.z.object({default:l.z.string()})),St=tt.extend({videoSources:It}),wt=at(St).extend({type:l.z.literal("video")}),Rt=(nt(St),l.z.discriminatedUnion("type",[lt,gt,kt,jt,wt])),Pt=l.z.object({blockuments:l.z.record(l.z.string(),mt).optional(),items:l.z.record(l.z.string(),Rt).optional()});function _t(e){return e.applied?{type:"rectangle",borderRadius:{topLeft:e.topLeft.value,topRight:e.topRight.value,bottomRight:e.bottomRight.value,bottomLeft:e.bottomLeft.value}}:{type:"rectangle"}}function Vt(e){const{clipPath:t,borderRadius:n,...i}=e;return"ellipse"===t?{...i,clipDef:{type:"ellipse"}}:{...i,clipDef:_t(n)}}function Lt(e){const{borderRadius:t,...n}=e;return{...n,clipDef:_t(t)}}function Ut(e){const{borderRadius:t,...n}=e;return t?{...n,clipDef:_t(t)}:{...n}}function Ct(e){if("shape"===e.type)return{...e,_v:4,states:Oe(e.states,Vt,(t=>function(e,t){const{clipPath:n,borderRadius:i,...a}=e;return"ellipse"===n?{...a,clipDef:{type:"ellipse"}}:"ellipse"===t.clipPath?{...a}:i?{...a,clipDef:_t(i)}:{...a}}(t,e.states.default)))};if("text"===e.type)return{...e,_v:4,states:Oe(e.states,Lt,Ut)};if("video"===e.type)return{...e,_v:4,states:Oe(e.states,Lt,Ut)};if("group"===e.type)return{...e,_v:4,states:Oe(e.states,Lt,Ut)};if("audio"===e.type)return{...e,_v:4,states:Oe(e.states,Lt,Ut)};throw new Error("Internal error: should be unreachable")}const Ot=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Et=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Xt=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Et.default({value:1,unit:"px"})}),Ft=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),At=Ft.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Dt=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Tt=Ft.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Dt.default({width:1,height:1,left:0,top:0})}),Bt=Ft.extend({type:l.z.literal("none")}),Yt=l.z.discriminatedUnion("type",[At,Tt,Bt]),Nt=l.z.discriminatedUnion("type",[At,Bt]),qt=l.z.object({top:Et.default({value:0,unit:"px"}),left:Et.default({value:0,unit:"px"}),bottom:Et.default({value:0,unit:"px"}),right:Et.default({value:0,unit:"px"})}),$t=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Ht=l.z.object({type:l.z.literal("ellipse")}),Mt=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Gt=l.z.object({type:l.z.literal("cloud")}),Jt=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Kt=l.z.object({type:l.z.literal("triangle")}),Qt=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Wt=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Zt=l.z.object({type:l.z.literal("octagon")}),en=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),tn=l.z.discriminatedUnion("type",[Qt,Wt,Gt,Ht,Zt,Jt,$t,Mt,Kt,en]),nn=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),an=nn.extend({x:Et.default({value:0,unit:"px"}),y:Et.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Et.default({value:100,unit:"%"}),height:Et.default({value:100,unit:"%"}),padding:qt,fill:Yt,overlay:Nt,aspectRatioLocked:l.z.boolean(),border:Xt,clipDef:tn.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),rn=e=>l.z.intersection(nn,e.partial()),on=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),rn(e))),ln=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:on(e),assets:l.z.record(l.z.string(),Ot).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(5)}),zn=(rn(an),l.z.object({default:l.z.string()})),dn=an.extend({audioSources:zn}),un=ln(dn).extend({type:l.z.literal("audio")}),sn=(rn(dn),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),pn=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),cn=pn.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),mn=pn.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),bn=pn.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),gn=l.z.discriminatedUnion("action",[mn,bn,cn]),fn=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(sn).max(1),triggers:l.z.array(gn),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(5)}),yn=an.extend({children:l.z.array(sn)}),xn=ln(yn).extend({type:l.z.literal("group")}),hn=(rn(yn),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>hn))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),jn=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:hn}),vn=l.z.enum(["top","middle","bottom"]),kn=an.extend({text:jn,textVerticalAlign:vn.default("top")}),In=ln(kn).extend({type:l.z.literal("text")}),Sn=(rn(kn),kn.extend({altText:l.z.string().nullable().default(null)})),wn=ln(Sn).extend({type:l.z.literal("shape")}),Rn=(rn(Sn),l.z.object({default:l.z.string()})),Pn=an.extend({videoSources:Rn}),_n=ln(Pn).extend({type:l.z.literal("video")}),Vn=(rn(Pn),l.z.discriminatedUnion("type",[un,xn,wn,In,_n])),Ln=l.z.object({blockuments:l.z.record(l.z.string(),fn).optional(),items:l.z.record(l.z.string(),Vn).optional()}),Un={authoringAspectRatioCropLock:"none"};function Cn(e){return{...e,...Un}}function On(e){const t=null!=e.width||null!=e.height?Un:null;return{...e,...t}}function En(e){if("shape"===e.type)return{...e,_v:5,states:Oe(e.states,Cn,On)};if("text"===e.type)return{...e,_v:5,states:Oe(e.states,Cn,On)};if("video"===e.type)return{...e,_v:5,states:Oe(e.states,Cn,On)};if("audio"===e.type)return{...e,_v:5,states:Oe(e.states,Cn,On)};if("group"===e.type)return{...e,_v:5,states:Oe(e.states,Cn,On)};throw new Error("Unexpected item type!")}const Xn=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Fn=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),An=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Fn.default({value:1,unit:"px"})}),Dn=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Tn=Dn.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Bn=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Yn=Dn.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Bn.default({width:1,height:1,left:0,top:0})}),Nn=Dn.extend({type:l.z.literal("none")}),qn=l.z.discriminatedUnion("type",[Tn,Yn,Nn]),$n=l.z.discriminatedUnion("type",[Tn,Nn]),Hn=l.z.object({top:Fn.default({value:0,unit:"px"}),left:Fn.default({value:0,unit:"px"}),bottom:Fn.default({value:0,unit:"px"}),right:Fn.default({value:0,unit:"px"})}),Mn=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Gn=l.z.object({type:l.z.literal("ellipse")}),Jn=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Kn=l.z.object({type:l.z.literal("cloud")}),Qn=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Wn=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Zn=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),ei=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),ti=l.z.object({type:l.z.literal("octagon")}),ni=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),ii=l.z.object({type:l.z.literal("shield")}),ai=l.z.object({type:l.z.literal("speechBubble")}),ri=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),oi=l.z.discriminatedUnion("type",[Zn,ei,Kn,Gn,ti,Qn,Mn,Jn,Wn,ni,ii,ai,ri]),li=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),zi=li.extend({x:Fn.default({value:0,unit:"px"}),y:Fn.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Fn.default({value:100,unit:"%"}),height:Fn.default({value:100,unit:"%"}),padding:Hn,fill:qn,overlay:$n,aspectRatioLocked:l.z.boolean(),border:An,clipDef:oi.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),di=e=>l.z.intersection(li,e.partial()),ui=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),di(e))),si=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:ui(e),assets:l.z.record(l.z.string(),Xn).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(6)}),pi=(di(zi),l.z.object({default:l.z.string()})),ci=zi.extend({audioSources:pi}),mi=si(ci).extend({type:l.z.literal("audio")}),bi=(di(ci),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),gi=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),fi=gi.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),yi=gi.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),xi=gi.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),hi=l.z.discriminatedUnion("action",[yi,xi,fi]),ji=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(bi).max(1),triggers:l.z.array(hi),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(6)}),vi=zi.extend({children:l.z.array(bi)}),ki=si(vi).extend({type:l.z.literal("group")}),Ii=(di(vi),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Ii))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Si=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Ii}),wi=l.z.enum(["top","middle","bottom"]),Ri=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Pi=zi.extend({text:Si,textVerticalAlign:wi.default("top"),textPadding:Ri}),_i=si(Pi).extend({type:l.z.literal("text")}),Vi=(di(Pi),Pi.extend({altText:l.z.string().nullable().default(null)})),Li=si(Vi).extend({type:l.z.literal("shape")}),Ui=(di(Vi),l.z.object({default:l.z.string()})),Ci=zi.extend({videoSources:Ui}),Oi=si(Ci).extend({type:l.z.literal("video")}),Ei=(di(Ci),l.z.discriminatedUnion("type",[mi,ki,Li,_i,Oi])),Xi=l.z.object({blockuments:l.z.record(l.z.string(),ji).optional(),items:l.z.record(l.z.string(),Ei).optional()});var Fi=n(500);function Ai(e){return"text"===e.type?{...e,_v:6,states:Oe(e.states,(e=>({...e,textPadding:Fi.un})),(e=>e))}:"shape"===e.type?{...e,_v:6,states:Oe(e.states,(e=>({...e,textPadding:Fi.Mw})),(e=>e))}:{...e,_v:6}}const Di=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Ti=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Bi=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Ti.default({value:1,unit:"px"})}),Yi=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Ni=Yi.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),qi=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),$i=Yi.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:qi.default({width:1,height:1,left:0,top:0})}),Hi=Yi.extend({type:l.z.literal("none")}),Mi=l.z.discriminatedUnion("type",[Ni,$i,Hi]),Gi=l.z.discriminatedUnion("type",[Ni,Hi]),Ji=l.z.object({top:Ti.default({value:0,unit:"px"}),left:Ti.default({value:0,unit:"px"}),bottom:Ti.default({value:0,unit:"px"}),right:Ti.default({value:0,unit:"px"})}),Ki=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Qi=l.z.object({type:l.z.literal("ellipse")}),Wi=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Zi=l.z.object({type:l.z.literal("cloud")}),ea=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),ta=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),na=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),ia=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),aa=l.z.object({type:l.z.literal("octagon")}),ra=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),oa=l.z.object({type:l.z.literal("shield")}),la=l.z.object({type:l.z.literal("speechBubble")}),za=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),da=l.z.discriminatedUnion("type",[na,ia,Zi,Qi,aa,ea,Ki,Wi,ta,ra,oa,la,za]),ua=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),sa=ua.extend({x:Ti.default({value:0,unit:"px"}),y:Ti.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Ti.default({value:100,unit:"%"}),height:Ti.default({value:100,unit:"%"}),padding:Ji,fill:Mi,overlay:Gi,aspectRatioLocked:l.z.boolean(),border:Bi,clipDef:da.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),pa=e=>l.z.intersection(ua,e.partial()),ca=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),pa(e))),ma=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:ca(e),assets:l.z.record(l.z.string(),Di).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(7)}),ba=(pa(sa),l.z.object({default:l.z.string()})),ga=sa.extend({audioSources:ba}),fa=ma(ga).extend({type:l.z.literal("audio")}),ya=(pa(ga),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),xa=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),ha=xa.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),ja=xa.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),va=xa.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),ka=l.z.discriminatedUnion("action",[ja,va,ha]),Ia=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(ya).max(1),triggers:l.z.array(ka),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(7)}),Sa=sa.extend({children:l.z.array(ya)}),wa=ma(Sa).extend({type:l.z.literal("group")}),Ra=(pa(Sa),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Ra))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Pa=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Ra}),_a=l.z.enum(["top","middle","bottom"]),Va=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),La=sa.extend({text:Pa,textVerticalAlign:_a.default("top"),textPadding:Va}),Ua=ma(La).extend({type:l.z.literal("text")}),Ca=(pa(La),La.extend({altText:l.z.string().nullable().default(null)})),Oa=ma(Ca).extend({type:l.z.literal("shape")}),Ea=(pa(Ca),l.z.object({default:l.z.string()})),Xa=sa.extend({videoSources:Ea}),Fa=ma(Xa).extend({type:l.z.literal("video")}),Aa=(pa(Xa),l.z.discriminatedUnion("type",[fa,wa,Oa,Ua,Fa])),Da=l.z.object({blockuments:l.z.record(l.z.string(),Ia).optional(),items:l.z.record(l.z.string(),Aa).optional()});function Ta(e,t){const n=t.width?.value??e.width.value,i=n<=100?8:n>300?32:16;return{top:16,left:i,bottom:16,right:i}}function Ba(e){return"shape"===e.type?{...e,states:(t=e.states,Oe(t,(e=>({...e,textPadding:Ta(e,e)})),(e=>e.textPadding||e.width?{...e,textPadding:Ta(t.default,e)}:e))),_v:7}:{...e,_v:7};var t}const Ya=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Na=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),qa=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Na.default({value:1,unit:"px"})}),$a=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Ha=$a.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Ma=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Ga=$a.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Ma.default({width:1,height:1,left:0,top:0})}),Ja=$a.extend({type:l.z.literal("none")}),Ka=l.z.discriminatedUnion("type",[Ha,Ga,Ja]),Qa=l.z.discriminatedUnion("type",[Ha,Ja]),Wa=l.z.object({top:Na.default({value:0,unit:"px"}),left:Na.default({value:0,unit:"px"}),bottom:Na.default({value:0,unit:"px"}),right:Na.default({value:0,unit:"px"})}),Za=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),er=l.z.object({type:l.z.literal("ellipse")}),tr=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),nr=l.z.object({type:l.z.literal("cloud")}),ir=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),ar=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),rr=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),or=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),lr=l.z.object({type:l.z.literal("octagon")}),zr=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),dr=l.z.object({type:l.z.literal("shield")}),ur=l.z.object({type:l.z.literal("speechBubble")}),sr=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),pr=l.z.discriminatedUnion("type",[rr,or,nr,er,lr,ir,Za,tr,ar,zr,dr,ur,sr]),cr=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),mr=cr.extend({x:Na.default({value:0,unit:"px"}),y:Na.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Na.default({value:100,unit:"%"}),height:Na.default({value:100,unit:"%"}),padding:Wa,fill:Ka,overlay:Qa,aspectRatioLocked:l.z.boolean(),border:qa,clipDef:pr.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),br=e=>l.z.intersection(cr,e.partial()),gr=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),br(e))),fr=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:gr(e),assets:l.z.record(l.z.string(),Ya).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(8)}),yr=(br(mr),l.z.object({default:l.z.string()})),xr=mr.extend({audioSources:yr}),hr=fr(xr).extend({type:l.z.literal("audio")}),jr=(br(xr),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),vr=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),kr=vr.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),Ir=vr.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),Sr=vr.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),wr=l.z.discriminatedUnion("action",[Ir,Sr,kr]),Rr=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(jr).max(1),triggers:l.z.array(wr),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(8)}),Pr=mr.extend({children:l.z.array(jr)}),_r=fr(Pr).extend({type:l.z.literal("group")}),Vr=(br(Pr),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Vr))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Lr=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Vr}),Ur=l.z.enum(["top","middle","bottom"]),Cr=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Or=mr.extend({text:Lr,textVerticalAlign:Ur.default("top"),textPadding:Cr}),Er=fr(Or).extend({type:l.z.literal("text")}),Xr=(br(Or),Or.extend({altText:l.z.string().nullable().default(null)})),Fr=fr(Xr).extend({type:l.z.literal("shape")}),Ar=(br(Xr),l.z.object({default:l.z.string()})),Dr=mr.extend({videoSources:Ar}),Tr=fr(Dr).extend({type:l.z.literal("video")}),Br=(br(Dr),l.z.discriminatedUnion("type",[hr,_r,Fr,Er,Tr])),Yr=l.z.object({blockuments:l.z.record(l.z.string(),Rr).optional(),items:l.z.record(l.z.string(),Br).optional()});function Nr(e){return{...e,_v:8,assets:Ce(e.assets??{},(e=>({...e,path:`mondrian/assets/${e.path}`})))}}const qr=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),$r=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Hr=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:$r.default({value:1,unit:"px"})}),Mr=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Gr=Mr.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Jr=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Kr=Mr.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Jr.default({width:1,height:1,left:0,top:0})}),Qr=Mr.extend({type:l.z.literal("none")}),Wr=l.z.discriminatedUnion("type",[Gr,Kr,Qr]),Zr=l.z.discriminatedUnion("type",[Gr,Qr]),eo=l.z.object({top:$r.default({value:0,unit:"px"}),left:$r.default({value:0,unit:"px"}),bottom:$r.default({value:0,unit:"px"}),right:$r.default({value:0,unit:"px"})}),to=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),no=l.z.object({type:l.z.literal("ellipse")}),io=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),ao=l.z.object({type:l.z.literal("cloud")}),ro=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),oo=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),lo=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),zo=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),uo=l.z.object({type:l.z.literal("octagon")}),so=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),po=l.z.object({type:l.z.literal("shield")}),co=l.z.object({type:l.z.literal("speechBubble")}),mo=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),bo=l.z.discriminatedUnion("type",[lo,zo,ao,no,uo,ro,to,io,oo,so,po,co,mo]),go=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),fo=go.extend({x:$r.default({value:0,unit:"px"}),y:$r.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:$r.default({value:100,unit:"%"}),height:$r.default({value:100,unit:"%"}),padding:eo,fill:Wr,overlay:Zr,aspectRatioLocked:l.z.boolean(),border:Hr,clipDef:bo.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),yo=e=>l.z.intersection(go,e.partial()),xo=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),yo(e))),ho=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:xo(e),assets:l.z.record(l.z.string(),qr).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(9)}),jo=(yo(fo),l.z.object({default:l.z.string()})),vo=fo.extend({audioSources:jo}),ko=ho(vo).extend({type:l.z.literal("audio")}),Io=(yo(vo),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),So=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),wo=So.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),Ro=So.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),Po=So.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),_o=l.z.discriminatedUnion("action",[Ro,Po,wo]),Vo=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Io).min(0).max(1),triggers:l.z.array(_o),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(9)}),Lo=fo.extend({_groupBrand:l.z.never().optional()}),Uo=ho(Lo).extend({type:l.z.literal("group"),children:l.z.array(Io)}),Co=(yo(Lo),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Co))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Oo=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Co}),Eo=l.z.enum(["top","middle","bottom"]),Xo=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Fo=fo.extend({text:Oo,textVerticalAlign:Eo.default("top"),textPadding:Xo}),Ao=ho(Fo).extend({type:l.z.literal("text")}),Do=(yo(Fo),Fo.extend({altText:l.z.string().nullable().default(null)})),To=ho(Do).extend({type:l.z.literal("shape")}),Bo=(yo(Do),l.z.object({default:l.z.string()})),Yo=fo.extend({videoSources:Bo}),No=ho(Yo).extend({type:l.z.literal("video")}),qo=(yo(Yo),l.z.discriminatedUnion("type",[ko,Uo,To,Ao,No])),$o=l.z.object({blockuments:l.z.record(l.z.string(),Vo).optional(),items:l.z.record(l.z.string(),qo).optional()});function Ho(e){return{...e,_v:9,children:e.children.map((({id:e,clonedFromId:t})=>({id:e,clonedFromId:t})))}}function Mo(e){return"group"===e.type?function(e){const t=new Map,{default:n,...i}=e.states,a=[n,...Object.values(i)];for(const e of a)if(e.children)for(const{id:n,clonedFromId:i}of e.children)t.has(n)||t.set(n,{id:n,clonedFromId:i});return{...e,_v:9,children:[...t.values()],states:Oe(e.states,(({children:e,...t})=>t),(({children:e,...t})=>t))}}(e):{...e,_v:9}}const Go=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Jo=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Ko=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Jo.default({value:1,unit:"px"})}),Qo=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Wo=Qo.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Zo=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),el=Qo.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Zo.default({width:1,height:1,left:0,top:0})}),tl=Qo.extend({type:l.z.literal("none")}),nl=l.z.discriminatedUnion("type",[Wo,el,tl]),il=l.z.discriminatedUnion("type",[Wo,tl]),al=l.z.object({top:Jo.default({value:0,unit:"px"}),left:Jo.default({value:0,unit:"px"}),bottom:Jo.default({value:0,unit:"px"}),right:Jo.default({value:0,unit:"px"})}),rl=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),ol=l.z.object({type:l.z.literal("ellipse")}),ll=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),zl=l.z.object({type:l.z.literal("cloud")}),dl=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),ul=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),sl=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),pl=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),cl=l.z.object({type:l.z.literal("octagon")}),ml=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),bl=l.z.object({type:l.z.literal("shield")}),gl=l.z.object({type:l.z.literal("speechBubble")}),fl=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),yl=l.z.discriminatedUnion("type",[sl,pl,zl,ol,cl,dl,rl,ll,ul,ml,bl,gl,fl]),xl=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),hl=xl.extend({x:Jo.default({value:0,unit:"px"}),y:Jo.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Jo.default({value:100,unit:"%"}),height:Jo.default({value:100,unit:"%"}),padding:al,fill:nl,overlay:il,aspectRatioLocked:l.z.boolean(),border:Ko,clipDef:yl.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),jl=e=>l.z.intersection(xl,e.partial()),vl=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),jl(e))),kl=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:vl(e),assets:l.z.record(l.z.string(),Go).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(10)}),Il=(jl(hl),l.z.object({default:l.z.string()})),Sl=hl.extend({audioSources:Il}),wl=kl(Sl).extend({type:l.z.literal("audio")}),Rl=(jl(Sl),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Pl=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),_l=Pl.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),Vl=Pl.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),Ll=Pl.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),Ul=l.z.discriminatedUnion("action",[Vl,Ll,_l]),Cl=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Rl).min(0).max(1),triggers:l.z.array(Ul),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(10)}),Ol=l.z.object({x:l.z.number(),y:l.z.number()}),El=l.z.object({applied:l.z.literal(!1)}),Xl=l.z.object({applied:l.z.literal(!0),offset:Ol,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Fl=l.z.discriminatedUnion("applied",[El,Xl]),Al=hl.extend({_groupBrand:l.z.never().optional()}),Dl=kl(Al).extend({type:l.z.literal("group"),children:l.z.array(Rl)}),Tl=(jl(Al),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Tl))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Bl=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Tl}),Yl=l.z.enum(["top","middle","bottom"]),Nl=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),ql=hl.extend({text:Bl,textVerticalAlign:Yl.default("top"),textPadding:Nl}),$l=kl(ql).extend({type:l.z.literal("text")}),Hl=(jl(ql),ql.extend({altText:l.z.string().nullable().default(null),dropShadow:Fl})),Ml=kl(Hl).extend({type:l.z.literal("shape")}),Gl=(jl(Hl),l.z.object({default:l.z.string()})),Jl=hl.extend({videoSources:Gl}),Kl=kl(Jl).extend({type:l.z.literal("video")}),Ql=(jl(Jl),l.z.discriminatedUnion("type",[wl,Dl,Ml,$l,Kl])),Wl=l.z.object({blockuments:l.z.record(l.z.string(),Cl).optional(),items:l.z.record(l.z.string(),Ql).optional()});function Zl(e){return"shape"===e.type?{...e,_v:10,states:Oe(e.states,(e=>({...e,dropShadow:{applied:!1}})),(e=>e))}:{...e,_v:10}}const ez=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),tz=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),nz=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:tz.default({value:1,unit:"px"})}),iz=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),az=iz.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),rz=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),oz=iz.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:rz.default({width:1,height:1,left:0,top:0})}),lz=iz.extend({type:l.z.literal("none")}),zz=l.z.discriminatedUnion("type",[az,oz,lz]),dz=l.z.discriminatedUnion("type",[az,lz]),uz=l.z.object({top:tz.default({value:0,unit:"px"}),left:tz.default({value:0,unit:"px"}),bottom:tz.default({value:0,unit:"px"}),right:tz.default({value:0,unit:"px"})}),sz=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),pz=l.z.object({type:l.z.literal("ellipse")}),cz=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),mz=l.z.object({type:l.z.literal("cloud")}),bz=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),gz=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),fz=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),yz=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),xz=l.z.object({type:l.z.literal("octagon")}),hz=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),jz=l.z.object({type:l.z.literal("shield")}),vz=l.z.object({type:l.z.literal("speechBubble")}),kz=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Iz=l.z.discriminatedUnion("type",[fz,yz,mz,pz,xz,bz,sz,cz,gz,hz,jz,vz,kz]),Sz=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),wz=Sz.extend({x:tz.default({value:0,unit:"px"}),y:tz.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:tz.default({value:100,unit:"%"}),height:tz.default({value:100,unit:"%"}),padding:uz,fill:zz,overlay:dz,aspectRatioLocked:l.z.boolean(),border:nz,clipDef:Iz.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Rz=e=>l.z.intersection(Sz,e.partial()),Pz=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),Rz(e))),_z=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Pz(e),assets:l.z.record(l.z.string(),ez).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(11)}),Vz=(Rz(wz),l.z.object({default:l.z.string()})),Lz=wz.extend({audioSources:Vz}),Uz=_z(Lz).extend({type:l.z.literal("audio")}),Cz=(Rz(Lz),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Oz=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),Ez=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),Xz=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),Fz=l.z.discriminatedUnion("type",[Oz,Ez,Xz]),Az=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(Fz)}),Dz=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Cz).min(0).max(1),triggers:l.z.array(Az),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(11)}),Tz=l.z.object({x:l.z.number(),y:l.z.number()}),Bz=l.z.object({applied:l.z.literal(!1)}),Yz=l.z.object({applied:l.z.literal(!0),offset:Tz,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Nz=l.z.discriminatedUnion("applied",[Bz,Yz]),qz=wz.extend({_groupBrand:l.z.never().optional()}),$z=_z(qz).extend({type:l.z.literal("group"),children:l.z.array(Cz)}),Hz=(Rz(qz),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Hz))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Mz=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Hz}),Gz=l.z.enum(["top","middle","bottom"]),Jz=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Kz=wz.extend({text:Mz,textVerticalAlign:Gz.default("top"),textPadding:Jz}),Qz=_z(Kz).extend({type:l.z.literal("text")}),Wz=(Rz(Kz),Kz.extend({altText:l.z.string().nullable().default(null),dropShadow:Nz})),Zz=_z(Wz).extend({type:l.z.literal("shape")}),ed=(Rz(Wz),l.z.object({default:l.z.string()})),td=wz.extend({videoSources:ed}),nd=_z(td).extend({type:l.z.literal("video")}),id=(Rz(td),l.z.discriminatedUnion("type",[Uz,$z,Zz,Qz,nd])),ad=l.z.object({blockuments:l.z.record(l.z.string(),Dz).optional(),items:l.z.record(l.z.string(),id).optional()});function rd(e){switch(e.action){case"changeState":return{type:e.action,targetId:[e.targetId],targetState:e.targetState};case"changeVisibility":return{type:e.action,targetId:[e.targetId],targetVisibility:e.targetVisibility};default:return{type:e.action,targetId:[e.targetId]}}}function od(e){return{...e,triggers:e.triggers.map((e=>({id:e.id,event:e.event,sourceId:e.sourceId,actions:[rd(e)]}))),_v:11}}function ld(e){return{...e,_v:11}}const zd=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),dd=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),ud=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:dd.default({value:1,unit:"px"})}),sd=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),pd=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),cd=pd.extend({color:l.z.string().optional()}),md=pd.extend({assetId:l.z.string().optional(),crop:sd.default({width:1,height:1,left:0,top:0})}),bd=l.z.enum(["color","image"]),gd=l.z.intersection(l.z.intersection(cd,md),l.z.object({type:bd})),fd=cd.extend({type:l.z.literal("color")}),yd=l.z.object({top:dd.default({value:0,unit:"px"}),left:dd.default({value:0,unit:"px"}),bottom:dd.default({value:0,unit:"px"}),right:dd.default({value:0,unit:"px"})}),xd=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),hd=l.z.object({type:l.z.literal("ellipse")}),jd=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),vd=l.z.object({type:l.z.literal("cloud")}),kd=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Id=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Sd=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),wd=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Rd=l.z.object({type:l.z.literal("octagon")}),Pd=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),_d=l.z.object({type:l.z.literal("shield")}),Vd=l.z.object({type:l.z.literal("speechBubble")}),Ld=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Ud=l.z.discriminatedUnion("type",[Sd,wd,vd,hd,Rd,kd,xd,jd,Id,Pd,_d,Vd,Ld]),Cd=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Od=Cd.extend({x:dd.default({value:0,unit:"px"}),y:dd.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:dd.default({value:100,unit:"%"}),height:dd.default({value:100,unit:"%"}),padding:yd,fill:gd,overlay:fd,aspectRatioLocked:l.z.boolean(),border:ud,clipDef:Ud.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Ed=e=>l.z.intersection(Cd,e.partial()),Xd=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),Ed(e))),Fd=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Xd(e),assets:l.z.record(l.z.string(),zd).default({}),removed:l.z.boolean().default(!1),_v:l.z.literal(12)}),Ad=(Ed(Od),l.z.object({default:l.z.string()})),Dd=Od.extend({audioSources:Ad}),Td=Fd(Dd).extend({type:l.z.literal("audio")}),Bd=(Ed(Dd),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Yd=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),Nd=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),qd=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),$d=l.z.discriminatedUnion("type",[Yd,Nd,qd]),Hd=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array($d)}),Md=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Bd).min(0).max(1),triggers:l.z.array(Hd),fonts:l.z.record(l.z.string(),l.z.string()).optional(),_v:l.z.literal(12)}),Gd=l.z.object({x:l.z.number(),y:l.z.number()}),Jd=l.z.object({applied:l.z.literal(!1)}),Kd=l.z.object({applied:l.z.literal(!0),offset:Gd,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Qd=l.z.discriminatedUnion("applied",[Jd,Kd]),Wd=Od.extend({_groupBrand:l.z.never().optional()}),Zd=Fd(Wd).extend({type:l.z.literal("group"),children:l.z.array(Bd)}),eu=(Ed(Wd),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>eu))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),tu=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:eu}),nu=l.z.enum(["top","middle","bottom"]),iu=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),au=Od.extend({text:tu,textVerticalAlign:nu.default("top"),textPadding:iu}),ru=Fd(au).extend({type:l.z.literal("text")}),ou=(Ed(au),au.extend({altText:l.z.string().nullable().default(null),dropShadow:Qd})),lu=Fd(ou).extend({type:l.z.literal("shape")}),zu=(Ed(ou),l.z.object({default:l.z.string()})),du=Od.extend({videoSources:zu}),uu=Fd(du).extend({type:l.z.literal("video")}),su=(Ed(du),l.z.discriminatedUnion("type",[Td,Zd,lu,ru,uu])),pu=l.z.object({blockuments:l.z.record(l.z.string(),Md).optional(),items:l.z.record(l.z.string(),su).optional()});var cu=n(8562);const mu={type:"color",opacity:1},bu={...mu,crop:{height:1,width:1,top:0,left:0}};function gu(e){return e&&"none"!==e.type?"color"===e.type?{...e,crop:bu.crop}:e:bu}function fu(e){return{...e,_v:12}}function yu(e){return{...e,fill:gu(e.fill),overlay:gu(e.overlay)}}function xu(e){return{...e,fill:gu(e.fill),overlay:(t=e.overlay,t&&"none"!==t.type?t:mu)};var t}function hu(e){switch(e.type){case"audio":case"group":case"shape":case"text":case"video":return function(e){return e.assets[cu.up.id]=cu.up,e.states.default.fill.assetId||(e.states.default.fill.assetId=cu.up.id),e}({...e,states:Oe(e.states,yu,xu),_v:12,assets:e.assets??{}});default:throw new Error("Unreachable")}}const ju=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),vu=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),ku=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:vu.default({value:1,unit:"px"})}),Iu=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Su=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),wu=l.z.enum(["color","image"]),Ru=Su.extend({color:l.z.string().optional()}),Pu=Ru.extend({type:wu,assetId:l.z.string().optional(),crop:Iu.default({width:1,height:1,left:0,top:0})}),_u=l.z.object({top:vu.default({value:0,unit:"px"}),left:vu.default({value:0,unit:"px"}),bottom:vu.default({value:0,unit:"px"}),right:vu.default({value:0,unit:"px"})}),Vu=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Lu=l.z.object({type:l.z.literal("ellipse")}),Uu=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Cu=l.z.object({type:l.z.literal("cloud")}),Ou=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Eu=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Xu=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Fu=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Au=l.z.object({type:l.z.literal("octagon")}),Du=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Tu=l.z.object({type:l.z.literal("shield")}),Bu=l.z.object({type:l.z.literal("speechBubble")}),Yu=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Nu=l.z.discriminatedUnion("type",[Xu,Fu,Cu,Lu,Au,Ou,Vu,Uu,Eu,Du,Tu,Bu,Yu]),qu=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),$u=qu.extend({x:vu.default({value:0,unit:"px"}),y:vu.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:vu.default({value:100,unit:"%"}),height:vu.default({value:100,unit:"%"}),padding:_u,fill:Pu,opacity:l.z.number().min(0).max(1).default(1),overlay:Ru,aspectRatioLocked:l.z.boolean(),border:ku,clipDef:Nu.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Hu=e=>l.z.intersection(qu,e.partial()),Mu=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),Hu(e))),Gu=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Mu(e),assets:l.z.record(l.z.string(),ju).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(13)}),Ju=(Hu($u),l.z.object({default:l.z.string()})),Ku=$u.extend({audioSources:Ju}),Qu=Gu(Ku).extend({type:l.z.literal("audio")}),Wu=(Hu(Ku),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Zu=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),es=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),ts=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),ns=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),is=l.z.discriminatedUnion("type",[Zu,es,ts,ns]),as=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(is)}),rs=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Wu).min(0).max(1),triggers:l.z.array(as),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(13)}),os=$u.extend({_groupBrand:l.z.never().optional()}),ls=Gu(os).extend({type:l.z.literal("group"),children:l.z.array(Wu)}),zs=(Hu(os),l.z.object({x:l.z.number(),y:l.z.number()})),ds=l.z.object({applied:l.z.literal(!1)}),us=l.z.object({applied:l.z.literal(!0),offset:zs,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),ss=l.z.discriminatedUnion("applied",[ds,us]),ps=l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>ps))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any())),cs=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:ps}),ms=l.z.enum(["top","middle","bottom"]),bs=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),gs=$u.extend({text:cs,textVerticalAlign:ms.default("top"),textPadding:bs}),fs=Gu(gs).extend({type:l.z.literal("text")}),ys=(Hu(gs),gs.extend({altText:l.z.string().nullable().default(null),dropShadow:ss})),xs=Gu(ys).extend({type:l.z.literal("shape")}),hs=(Hu(ys),l.z.object({default:l.z.string()})),js=$u.extend({videoSources:hs}),vs=Gu(js).extend({type:l.z.literal("video")}),ks=(Hu(js),l.z.discriminatedUnion("type",[Qu,ls,xs,fs,vs])),Is=(l.z.object({blockument:rs.optional(),items:l.z.record(l.z.string(),ks).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),rs).optional(),items:l.z.record(l.z.string(),ks).optional()}));function Ss(e){return{...e,layers:[],_v:13}}function ws(e){return{...e,opacity:1}}function Rs(e){return{...e,opacity:1}}function Ps(e){switch(e.type){case"audio":case"group":case"shape":case"text":case"video":return{...e,states:Oe(e.states,ws,Rs),_v:13};default:throw new Error("Unreachable")}}const _s=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Vs=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Ls=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Vs.default({value:1,unit:"px"})}),Us=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Cs=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),Os=l.z.enum(["color","image"]),Es=Cs.extend({color:l.z.string().optional()}),Xs=Es.extend({type:Os,assetId:l.z.string().optional(),crop:Us.default({width:1,height:1,left:0,top:0})}),Fs=l.z.object({top:Vs.default({value:0,unit:"px"}),left:Vs.default({value:0,unit:"px"}),bottom:Vs.default({value:0,unit:"px"}),right:Vs.default({value:0,unit:"px"})}),As=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Ds=l.z.object({type:l.z.literal("ellipse")}),Ts=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Bs=l.z.object({type:l.z.literal("cloud")}),Ys=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Ns=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),qs=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),$s=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Hs=l.z.object({type:l.z.literal("octagon")}),Ms=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Gs=l.z.object({type:l.z.literal("shield")}),Js=l.z.object({type:l.z.literal("speechBubble")}),Ks=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Qs=l.z.discriminatedUnion("type",[qs,$s,Bs,Ds,Hs,Ys,As,Ts,Ns,Ms,Gs,Js,Ks]),Ws=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Zs=Ws.extend({x:Vs.default({value:0,unit:"px"}),y:Vs.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Vs.default({value:100,unit:"%"}),height:Vs.default({value:100,unit:"%"}),padding:Fs,fill:Xs,opacity:l.z.number().min(0).max(1).default(1),overlay:Es,aspectRatioLocked:l.z.boolean(),border:Ls,clipDef:Qs.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),ep=e=>l.z.intersection(Ws,e.partial()),tp=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),ep(e))),np=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:tp(e),assets:l.z.record(l.z.string(),_s).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(14)}),ip=(ep(Zs),l.z.object({default:l.z.string()})),ap=Zs.extend({audioSources:ip}),rp=np(ap).extend({type:l.z.literal("audio")}),op=(ep(ap),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),lp=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),zp=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),dp=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),up=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),sp=l.z.discriminatedUnion("type",[lp,zp,dp,up]),pp=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(sp)}),cp=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(op).min(0).max(1),triggers:l.z.array(pp),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(14)}),mp=Zs.extend({_groupBrand:l.z.never().optional()}),bp=np(mp).extend({type:l.z.literal("group"),children:l.z.array(op)}),gp=(ep(mp),l.z.object({x:l.z.number(),y:l.z.number()})),fp=l.z.object({applied:l.z.literal(!1)}),yp=l.z.object({applied:l.z.literal(!0),offset:gp,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),xp=l.z.discriminatedUnion("applied",[fp,yp]),hp=l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>hp))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any())),jp=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:hp}),vp=l.z.enum(["top","middle","bottom"]),kp=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Ip=Zs.extend({text:jp,textVerticalAlign:vp.default("top"),textPadding:kp}),Sp=np(Ip).extend({type:l.z.literal("text")}),wp=(ep(Ip),Ip.extend({altText:l.z.string().nullable().default(null),dropShadow:xp})),Rp=np(wp).extend({type:l.z.literal("shape")}),Pp=(ep(wp),l.z.object({default:l.z.string()})),_p=Zs.extend({videoSources:Pp}),Vp=np(_p).extend({type:l.z.literal("video")}),Lp=(ep(_p),l.z.discriminatedUnion("type",[rp,bp,Rp,Sp,Vp])),Up=(l.z.object({blockument:cp.optional(),items:l.z.record(l.z.string(),Lp).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),cp).optional(),items:l.z.record(l.z.string(),Lp).optional()}));function Cp(e){return{...e,_v:14}}function Op(e){return{...e,opacity:1}}function Ep(e){return{...e,opacity:1}}function Xp(e){switch(e.type){case"audio":case"group":case"shape":case"text":case"video":return{...e,states:Oe(e.states,Op,Ep),_v:14};default:throw new Error("Unreachable")}}const Fp=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Ap=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Dp=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Ap.default({value:1,unit:"px"})}),Tp=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Bp=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),Yp=l.z.enum(["color","image"]),Np=Bp.extend({color:l.z.string().optional()}),qp=Np.extend({type:Yp,assetId:l.z.string().optional(),crop:Tp.default({width:1,height:1,left:0,top:0})}),$p=l.z.object({top:Ap.default({value:0,unit:"px"}),left:Ap.default({value:0,unit:"px"}),bottom:Ap.default({value:0,unit:"px"}),right:Ap.default({value:0,unit:"px"})}),Hp=l.z.object({type:l.z.string()}),Mp=Hp.extend({cornerRounding:l.z.number().min(0)}),Gp=Hp.extend({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Jp=Hp.extend({type:l.z.literal("ellipse")}),Kp=Mp.extend({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Qp=Hp.extend({type:l.z.literal("cloud")}),Wp=Mp.extend({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Zp=Mp.extend({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),ec=Mp.extend({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),tc=Mp.extend({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),nc=Mp.extend({type:l.z.literal("octagon")}),ic=Mp.extend({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),ac=Mp.extend({type:l.z.literal("shield")}),rc=Mp.extend({type:l.z.literal("speechBubble")}),oc=Mp.extend({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),lc=l.z.discriminatedUnion("type",[ec,tc,Qp,Jp,nc,Wp,Gp,Kp,Zp,ic,ac,rc,oc]),zc=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),dc=zc.extend({x:Ap.default({value:0,unit:"px"}),y:Ap.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Ap.default({value:100,unit:"%"}),height:Ap.default({value:100,unit:"%"}),padding:$p,fill:qp,opacity:l.z.number().min(0).max(1).default(1),overlay:Np,aspectRatioLocked:l.z.boolean(),border:Dp,clipDef:lc.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),uc=e=>l.z.intersection(zc,e.partial()),sc=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),uc(e))),pc=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:sc(e),assets:l.z.record(l.z.string(),Fp).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(15)}),cc=(uc(dc),l.z.object({default:l.z.string()})),mc=dc.extend({audioSources:cc}),bc=pc(mc).extend({type:l.z.literal("audio")}),gc=(uc(mc),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),fc=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),yc=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),xc=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),hc=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),jc=l.z.discriminatedUnion("type",[fc,yc,xc,hc]),vc=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(jc)}),kc=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(gc).min(0).max(1),triggers:l.z.array(vc),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(15)}),Ic=dc.extend({_groupBrand:l.z.never().optional()}),Sc=pc(Ic).extend({type:l.z.literal("group"),children:l.z.array(gc)}),wc=(uc(Ic),l.z.object({x:l.z.number(),y:l.z.number()})),Rc=l.z.object({applied:l.z.literal(!1)}),Pc=l.z.object({applied:l.z.literal(!0),offset:wc,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),_c=l.z.discriminatedUnion("applied",[Rc,Pc]),Vc=l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Vc))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any())),Lc=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Vc}),Uc=l.z.enum(["top","middle","bottom"]),Cc=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Oc=dc.extend({text:Lc,textVerticalAlign:Uc.default("top"),textPadding:Cc}),Ec=pc(Oc).extend({type:l.z.literal("text")}),Xc=(uc(Oc),Oc.extend({altText:l.z.string().nullable().default(null),dropShadow:_c})),Fc=pc(Xc).extend({type:l.z.literal("shape")}),Ac=(uc(Xc),l.z.object({default:l.z.string()})),Dc=dc.extend({videoSources:Ac}),Tc=pc(Dc).extend({type:l.z.literal("video")}),Bc=(uc(Dc),l.z.discriminatedUnion("type",[bc,Sc,Fc,Ec,Tc])),Yc=(l.z.object({blockument:kc.optional(),items:l.z.record(l.z.string(),Bc).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),kc).optional(),items:l.z.record(l.z.string(),Bc).optional()}));function Nc(e){return{...e,_v:15}}function qc(e){if(e)switch(e.type){case"star":case"plus":case"triangle":case"bookmark":case"chevron":case"octagon":case"parallelogram":case"shield":case"speechBubble":case"arrow":return{...e,cornerRounding:0};default:return e}}function $c(e){return{...e,clipDef:qc(e.clipDef)}}function Hc(e){return{...e,clipDef:qc(e.clipDef)}}function Mc(e){switch(e.type){case"audio":case"group":case"shape":case"text":case"video":return{...e,_v:15,states:Oe(e.states,$c,Hc)};default:throw new Error}}const Gc=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Jc=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Kc=l.z.object({top:Jc.default({value:0,unit:"px"}),left:Jc.default({value:0,unit:"px"}),bottom:Jc.default({value:0,unit:"px"}),right:Jc.default({value:0,unit:"px"})}),Qc=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Wc=Qc.extend({x:Jc.default({value:0,unit:"px"}),y:Jc.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Jc.default({value:100,unit:"%"}),height:Jc.default({value:100,unit:"%"}),padding:Kc,opacity:l.z.number().min(0).max(1).default(1),aspectRatioLocked:l.z.boolean(),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Zc=e=>l.z.intersection(Qc,e.partial()),em=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),Zc(e))),tm=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:em(e),assets:l.z.record(l.z.string(),Gc).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(16)}),nm=(Zc(Wc),l.z.object({default:l.z.string()})),im=Wc.extend({audioSources:nm}),am=tm(im).extend({type:l.z.literal("audio")}),rm=(Zc(im),l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Jc.default({value:1,unit:"px"})})),om=l.z.object({x:l.z.number(),y:l.z.number()}),lm=l.z.object({applied:l.z.literal(!1)}),zm=l.z.object({applied:l.z.literal(!0),offset:om,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),dm=l.z.discriminatedUnion("applied",[lm,zm]),um=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),sm=l.z.object({opacity:l.z.number().min(0).max(1)}),pm=sm.extend({color:l.z.string().optional()}),cm=sm.extend({assetId:l.z.string().optional(),crop:um}),mm=l.z.object({type:l.z.string()}),bm=mm.extend({cornerRounding:l.z.number().min(0)}),gm=mm.extend({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),fm=mm.extend({type:l.z.literal("ellipse")}),ym=bm.extend({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),xm=mm.extend({type:l.z.literal("cloud")}),hm=bm.extend({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),jm=bm.extend({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),vm=bm.extend({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),km=bm.extend({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Im=bm.extend({type:l.z.literal("octagon")}),Sm=bm.extend({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),wm=bm.extend({type:l.z.literal("shield")}),Rm=bm.extend({type:l.z.literal("speechBubble")}),Pm=bm.extend({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),_m=l.z.discriminatedUnion("type",[vm,km,xm,fm,Im,hm,gm,ym,jm,Sm,wm,Rm,Pm]),Vm=l.z.object({border:rm,overlay:pm}),Lm=Vm.extend({dropShadow:dm,shapeDef:_m}),Um=l.z.object({fill:pm}),Cm=l.z.object({fill:cm}),Om=Vm.extend(Um.shape).extend({}),Em=Lm.extend(Um.shape).extend({}),Xm=Lm.extend(Cm.shape).extend({}),Fm=l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()}),Am=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),Dm=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),Tm=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),Bm=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),Ym=l.z.discriminatedUnion("type",[Am,Dm,Tm,Bm]),Nm=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(Ym)}),qm=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Fm).min(0).max(1),triggers:l.z.array(Nm),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(16)}),$m=Wc.extend(Om.shape).extend({_groupBrand:l.z.never().optional()}),Hm=tm($m).extend({type:l.z.literal("group"),children:l.z.array(Fm)}),Mm=(Zc($m),Wc.extend(Xm.shape).extend({altText:l.z.string()})),Gm=tm(Mm).extend({type:l.z.literal("image")}),Jm=(Zc(Mm),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Jm))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Km=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Jm}),Qm=l.z.enum(["top","middle","bottom"]),Wm=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Zm=Wc.extend({text:Km,textVerticalAlign:Qm.default("top"),textPadding:Wm}),eb=tm(Zm).extend({type:l.z.literal("text")}),tb=(Zc(Zm),Zm.extend(Em.shape).extend({})),nb=tm(tb).extend({type:l.z.literal("shape")}),ib=(Zc(tb),l.z.object({default:l.z.string()})),ab=Wc.extend({videoSources:ib}),rb=tm(ab).extend({type:l.z.literal("video")}),ob=(Zc(ab),l.z.discriminatedUnion("type",[am,Hm,Gm,nb,eb,rb])),lb=(l.z.object({blockument:qm.optional(),items:l.z.record(l.z.string(),ob).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),qm).optional(),items:l.z.record(l.z.string(),ob).optional()}));var zb=n(3330);function db(e){return{...e,_v:16}}function ub(e){let t;return t="group"===e.type?function(e){return e.parentId===e.blockumentId?{...e,_v:16,states:Oe(e.states,(e=>({border:{applied:!1,type:"none",color:"#000000",opacity:1,style:"solid",width:{value:1,unit:"px"}},overlay:{opacity:1},fill:{opacity:1},...e})),(e=>e))}:{...e,_v:16,states:Oe(e.states,(e=>({...e,border:{applied:!1,type:"none",color:"#000000",opacity:1,style:"solid",width:{value:1,unit:"px"}},overlay:{opacity:1},fill:{opacity:1}})),(e=>{const{border:t,overlay:n,fill:i,...a}=e;return a}))}}(e):"shape"===e.type?function(e){return"image"===e.states.default.fill.type&&e.states.default.fill.assetId&&e.assets[e.states.default.fill.assetId]?{...e,_v:16,type:"image",states:Oe(e.states,(e=>{const{clipDef:t,altText:n,...i}=e;return{...i,shapeDef:t,altText:n??""}}),(e=>{if("image"===e.fill?.type){const{clipDef:t,altText:n,...i}=e;return{...i,shapeDef:t,altText:n??void 0}}{const{border:t,overlay:n,fill:i,clipDef:a,altText:r,...o}=e;return{...o,shapeDef:a,altText:r??void 0}}}))}:{...e,_v:16,states:Oe(e.states,(e=>{const{clipDef:t,...n}=e;return{...n,shapeDef:t}}),(e=>{if("color"===e.fill?.type){const{clipDef:t,...n}=e;return{...n,shapeDef:t}}{const{border:t,overlay:n,fill:i,clipDef:a,...r}=e;return{...r,shapeDef:a}}}))}}(e):{...e,_v:16},function(e){const t=[];"audio"===e.type&&t.push(...Object.values(e.states).map((e=>e.audioSources?.default))),"video"===e.type&&t.push(...Object.values(e.states).map((e=>e.videoSources?.default))),"image"===e.type&&t.push(...Object.values(e.states).map((e=>e.fill?.assetId)));const n=new Set(t);e.assets=zb(e.assets,((e,t)=>n.has(t)))}(t),t}const sb=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),pb=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),cb=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),mb=cb.extend({x:pb.default({value:0,unit:"px"}),y:pb.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),width:pb.default({value:100,unit:"%"}),height:pb.default({value:100,unit:"%"}),opacity:l.z.number().min(0).max(1).default(1),aspectRatioLocked:l.z.boolean(),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),bb=e=>l.z.intersection(cb,e.partial()),gb=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),bb(e))),fb=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:gb(e),assets:l.z.record(l.z.string(),sb).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(17)}),yb=(bb(mb),l.z.object({default:l.z.string()})),xb=mb.extend({audioSources:yb}),hb=fb(xb).extend({type:l.z.literal("audio")}),jb=(bb(xb),l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:pb.default({value:1,unit:"px"})})),vb=l.z.object({x:l.z.number(),y:l.z.number()}),kb=l.z.object({applied:l.z.literal(!1)}),Ib=l.z.object({applied:l.z.literal(!0),offset:vb,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Sb=l.z.discriminatedUnion("applied",[kb,Ib]),wb=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Rb=l.z.object({opacity:l.z.number().min(0).max(1)}),Pb=Rb.extend({color:l.z.string().optional()}),_b=Rb.extend({assetId:l.z.string().optional(),crop:wb}),Vb=l.z.object({type:l.z.string()}),Lb=Vb.extend({cornerRounding:l.z.number().min(0)}),Ub=Vb.extend({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Cb=Vb.extend({type:l.z.literal("ellipse")}),Ob=Lb.extend({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Eb=Vb.extend({type:l.z.literal("cloud")}),Xb=Lb.extend({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Fb=Lb.extend({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Ab=Lb.extend({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Db=Lb.extend({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Tb=Lb.extend({type:l.z.literal("octagon")}),Bb=Lb.extend({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Yb=Lb.extend({type:l.z.literal("shield")}),Nb=Lb.extend({type:l.z.literal("speechBubble")}),qb=Lb.extend({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),$b=l.z.discriminatedUnion("type",[Ab,Db,Eb,Cb,Tb,Xb,Ub,Ob,Fb,Bb,Yb,Nb,qb]),Hb=l.z.object({border:jb,overlay:Pb}),Mb=Hb.extend({dropShadow:Sb,shapeDef:$b}),Gb=l.z.object({fill:Pb}),Jb=l.z.object({fill:_b}),Kb=Hb.extend(Gb.shape).extend({}),Qb=Mb.extend(Gb.shape).extend({}),Wb=Mb.extend(Jb.shape).extend({}),Zb=l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()}),eg=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),tg=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),ng=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),ig=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),ag=l.z.discriminatedUnion("type",[eg,tg,ng,ig]),rg=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(ag)}),og=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Zb).min(0).max(1),triggers:l.z.array(rg),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(17)}),lg=mb.extend(Kb.shape).extend({_groupBrand:l.z.never().optional()}),zg=fb(lg).extend({type:l.z.literal("group"),children:l.z.array(Zb)}),dg=(bb(lg),mb.extend(Wb.shape).extend({altText:l.z.string()})),ug=fb(dg).extend({type:l.z.literal("image")}),sg=(bb(dg),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>sg))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),pg=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:sg}),cg=l.z.enum(["top","middle","bottom"]),mg=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),bg=mb.extend({text:pg,textVerticalAlign:cg.default("top"),textPadding:mg}),gg=fb(bg).extend({type:l.z.literal("text")}),fg=(bb(bg),bg.extend(Qb.shape).extend({})),yg=fb(fg).extend({type:l.z.literal("shape")}),xg=(bb(fg),l.z.object({default:l.z.string()})),hg=mb.extend({videoSources:xg}),jg=fb(hg).extend({type:l.z.literal("video")}),vg=(bb(hg),l.z.discriminatedUnion("type",[hb,zg,ug,yg,gg,jg])),kg=(l.z.object({blockument:og.optional(),items:l.z.record(l.z.string(),vg).optional()}),l.z.object({blockuments:l.z.record(l.z.string(),og).optional(),items:l.z.record(l.z.string(),vg).optional()}));function Ig(e){return{...e,_v:17}}function Sg(e){return{...e,_v:17}}const wg=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Rg=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Pg=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),_g=Pg.extend({x:Rg.default({value:0,unit:"px"}),y:Rg.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),width:Rg.default({value:100,unit:"%"}),height:Rg.default({value:100,unit:"%"}),opacity:l.z.number().min(0).max(1).default(1),aspectRatioLocked:l.z.boolean(),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Vg=e=>l.z.intersection(Pg,e.partial()),Lg=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),Vg(e))),Ug=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Lg(e),assets:l.z.record(l.z.string(),wg).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(18)}),Cg=(Vg(_g),l.z.object({default:l.z.string()})),Og=_g.extend({audioSources:Cg}),Eg=Ug(Og).extend({type:l.z.literal("audio")}),Xg=(Vg(Og),l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Rg.default({value:1,unit:"px"})})),Fg=l.z.object({x:l.z.number(),y:l.z.number()}),Ag=l.z.object({applied:l.z.literal(!1)}),Dg=l.z.object({applied:l.z.literal(!0),offset:Fg,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Tg=l.z.discriminatedUnion("applied",[Ag,Dg]),Bg=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Yg=l.z.object({opacity:l.z.number().min(0).max(1)}),Ng=Yg.extend({color:l.z.string().optional()}),qg=Yg.extend({assetId:l.z.string().optional(),crop:Bg}),$g=l.z.object({type:l.z.string()}),Hg=$g.extend({cornerRounding:l.z.number().min(0)}),Mg=$g.extend({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Gg=$g.extend({type:l.z.literal("ellipse")}),Jg=Hg.extend({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Kg=$g.extend({type:l.z.literal("cloud")}),Qg=Hg.extend({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Wg=Hg.extend({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Zg=Hg.extend({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),ef=Hg.extend({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),tf=Hg.extend({type:l.z.literal("octagon")}),nf=Hg.extend({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),af=Hg.extend({type:l.z.literal("shield")}),rf=Hg.extend({type:l.z.literal("speechBubble")}),of=Hg.extend({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),lf=l.z.discriminatedUnion("type",[Zg,ef,Kg,Gg,tf,Qg,Mg,Jg,Wg,nf,af,rf,of]),zf=l.z.object({border:Xg,overlay:Ng}),df=zf.extend({dropShadow:Tg,shapeDef:lf}),uf=l.z.object({fill:Ng}),sf=l.z.object({fill:qg}),pf=zf.extend(uf.shape).extend({}),cf=df.extend(uf.shape).extend({}),mf=df.extend(sf.shape).extend({}),bf=l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()}),gf=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),ff=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),yf=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),xf=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),hf=l.z.discriminatedUnion("type",[gf,ff,yf,xf]),jf=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(hf)}),vf=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(bf).min(0).max(1),triggers:l.z.array(jf),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),authoringOpened:l.z.boolean(),_v:l.z.literal(18)}),kf=_g.extend(pf.shape).extend({_groupBrand:l.z.never().optional()}),If=Ug(kf).extend({type:l.z.literal("group"),children:l.z.array(bf)}),Sf=(Vg(kf),_g.extend(mf.shape).extend({altText:l.z.string()})),wf=Ug(Sf).extend({type:l.z.literal("image")}),Rf=(Vg(Sf),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Rf))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),Pf=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Rf}),_f=l.z.enum(["top","middle","bottom"]),Vf=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Lf=_g.extend({text:Pf,textVerticalAlign:_f.default("top"),textPadding:Vf}),Uf=Ug(Lf).extend({type:l.z.literal("text")}),Cf=(Vg(Lf),Lf.extend(cf.shape).extend({})),Of=Ug(Cf).extend({type:l.z.literal("shape")}),Ef=(Vg(Cf),l.z.object({default:l.z.string()})),Xf=_g.extend({videoSources:Ef}),Ff=Ug(Xf).extend({type:l.z.literal("video")}),Af=(Vg(Xf),l.z.discriminatedUnion("type",[Eg,If,wf,Of,Uf,Ff])),Df=(l.z.object({blockument:vf.optional(),items:l.z.record(l.z.string(),Af).optional()}),l.z.object({type:l.z.literal("textStyle"),attrs:l.z.object({color:l.z.string(),textSize:l.z.number(),fontFamily:l.z.string()})})),Tf=l.z.object({type:l.z.literal("highlight"),attrs:l.z.object({color:l.z.string(),textSize:l.z.number()})}),Bf=l.z.object({type:l.z.literal("bold")}),Yf=l.z.object({type:l.z.literal("italic")}),Nf=l.z.object({type:l.z.literal("underline")}),qf=l.z.object({type:l.z.literal("strike")}),$f=l.z.discriminatedUnion("type",[Df,Tf,Bf,Yf,Nf,qf]),Hf=l.z.object({type:l.z.literal("hardBreak"),marks:l.z.never().optional(),content:l.z.never().optional(),text:l.z.never().optional()}),Mf=l.z.object({type:l.z.literal("text"),marks:l.z.array($f).optional(),content:l.z.never().optional(),text:l.z.string()}),Gf=l.z.discriminatedUnion("type",[Mf,Hf]),Jf=l.z.object({textAlign:l.z.enum(["left","center","right"]),lineHeight:l.z.number()}),Kf=Jf.extend({level:l.z.union([l.z.literal(2),l.z.literal(3),l.z.literal(4),l.z.literal(5),l.z.literal(6)])}),Qf=l.z.union([l.z.array(Gf),l.z.array(l.z.lazy((()=>ay)))]),Wf=l.z.object({type:l.z.string(),marks:l.z.never().optional(),content:Qf.optional(),text:l.z.never().optional()}),Zf=Wf.extend({type:l.z.literal("paragraph"),attrs:Jf}),ey=Wf.extend({type:l.z.literal("heading"),attrs:Kf}),ty=Wf.extend({type:l.z.literal("listItem"),attrs:l.z.object({color:l.z.string().nullable(),textSize:l.z.number(),fontFamily:l.z.string()}).optional()}),ny=Wf.extend({type:l.z.literal("orderedList"),attrs:l.z.object({start:l.z.number()})}),iy=Wf.extend({type:l.z.literal("bulletList")}),ay=l.z.discriminatedUnion("type",[Zf,ey,ty,ny,iy]),ry=(l.z.object({type:l.z.literal("doc"),content:l.z.array(ay)}),l.z.object({blockuments:l.z.record(l.z.string(),vf).optional(),items:l.z.record(l.z.string(),Af).optional()}));function oy(e){return{...e,authoringOpened:!0,_v:18}}function ly(e){return{...e,_v:18}}const zy=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),dy=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),uy=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),sy=uy.extend({x:dy.default({value:0,unit:"px"}),y:dy.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),width:dy.default({value:100,unit:"%"}),height:dy.default({value:100,unit:"%"}),opacity:l.z.number().min(0).max(1).default(1),aspectRatioLocked:l.z.boolean(),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),py=e=>l.z.intersection(uy,e.partial()),cy=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),py(e))),my=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:cy(e),assets:l.z.record(l.z.string(),zy).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(19)}),by=(py(sy),l.z.object({default:l.z.string()})),gy=sy.extend({audioSources:by}),fy=my(gy).extend({type:l.z.literal("audio")}),yy=(py(gy),l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:dy.default({value:1,unit:"px"})})),xy=l.z.object({x:l.z.number(),y:l.z.number()}),hy=l.z.object({applied:l.z.literal(!1)}),jy=l.z.object({applied:l.z.literal(!0),offset:xy,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),vy=l.z.discriminatedUnion("applied",[hy,jy]),ky=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Iy=l.z.object({opacity:l.z.number().min(0).max(1)}),Sy=Iy.extend({color:l.z.string().optional()}),wy=Iy.extend({assetId:l.z.string().optional(),crop:ky}),Ry=l.z.object({type:l.z.string()}),Py=Ry.extend({cornerRounding:l.z.number().min(0)}),_y=Ry.extend({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Vy=Ry.extend({type:l.z.literal("ellipse")}),Ly=Py.extend({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Uy=Ry.extend({type:l.z.literal("cloud")}),Cy=Py.extend({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Oy=Py.extend({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Ey=Py.extend({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Xy=Py.extend({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Fy=Py.extend({type:l.z.literal("octagon")}),Ay=Py.extend({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Dy=Py.extend({type:l.z.literal("shield")}),Ty=Py.extend({type:l.z.literal("speechBubble")}),By=Py.extend({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Yy=l.z.discriminatedUnion("type",[Ey,Xy,Uy,Vy,Fy,Cy,_y,Ly,Oy,Ay,Dy,Ty,By]),Ny=l.z.object({border:yy,overlay:Sy}),qy=Ny.extend({dropShadow:vy,shapeDef:Yy}),$y=l.z.object({fill:Sy}),Hy=l.z.object({fill:wy}),My=Ny.extend($y.shape).extend({}),Gy=qy.extend($y.shape).extend({}),Jy=qy.extend(Hy.shape).extend({}),Ky=l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()}),Qy=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),Wy=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),Zy=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),ex=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),tx=l.z.discriminatedUnion("type",[Qy,Wy,Zy,ex]),nx=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(tx)}),ix=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Ky).min(0).max(1),triggers:l.z.array(nx),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),authoringOpened:l.z.boolean(),_v:l.z.literal(19)}),ax=sy.extend(My.shape).extend({_groupBrand:l.z.never().optional()}),rx=my(ax).extend({type:l.z.literal("group"),children:l.z.array(Ky)}),ox=(py(ax),sy.extend(Jy.shape).extend({altText:l.z.string()})),lx=my(ox).extend({type:l.z.literal("image")}),zx=(py(ox),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>zx))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),dx=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:zx}),ux=l.z.enum(["top","middle","bottom"]),sx=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),px=sy.extend({text:dx,textVerticalAlign:ux.default("top"),textPadding:sx}),cx=my(px).extend({type:l.z.literal("text")}),mx=(py(px),px.extend(Gy.shape).extend({altText:l.z.string()})),bx=my(mx).extend({type:l.z.literal("shape")}),gx=(py(mx),l.z.object({default:l.z.string()})),fx=sy.extend({videoSources:gx}),yx=my(fx).extend({type:l.z.literal("video")}),xx=(py(fx),l.z.discriminatedUnion("type",[fy,rx,lx,bx,cx,yx])),hx=(l.z.object({blockument:ix.optional(),items:l.z.record(l.z.string(),xx).optional()}),l.z.object({type:l.z.literal("textStyle"),attrs:l.z.object({color:l.z.string(),textSize:l.z.number(),fontFamily:l.z.string()})})),jx=l.z.object({type:l.z.literal("highlight"),attrs:l.z.object({color:l.z.string(),textSize:l.z.number()})}),vx=l.z.object({type:l.z.literal("bold")}),kx=l.z.object({type:l.z.literal("italic")}),Ix=l.z.object({type:l.z.literal("underline")}),Sx=l.z.object({type:l.z.literal("strike")}),wx=l.z.discriminatedUnion("type",[hx,jx,vx,kx,Ix,Sx]),Rx=l.z.object({type:l.z.literal("hardBreak"),marks:l.z.never().optional(),content:l.z.never().optional(),text:l.z.never().optional()}),Px=l.z.object({type:l.z.literal("text"),marks:l.z.array(wx).optional(),content:l.z.never().optional(),text:l.z.string()}),_x=l.z.discriminatedUnion("type",[Px,Rx]),Vx=l.z.object({textAlign:l.z.enum(["left","center","right"]),lineHeight:l.z.number()}),Lx=Vx.extend({level:l.z.union([l.z.literal(2),l.z.literal(3),l.z.literal(4),l.z.literal(5),l.z.literal(6)])}),Ux=l.z.union([l.z.array(_x),l.z.array(l.z.lazy((()=>Dx)))]),Cx=l.z.object({type:l.z.string(),marks:l.z.never().optional(),content:Ux.optional(),text:l.z.never().optional()}),Ox=Cx.extend({type:l.z.literal("paragraph"),attrs:Vx}),Ex=Cx.extend({type:l.z.literal("heading"),attrs:Lx}),Xx=Cx.extend({type:l.z.literal("listItem"),attrs:l.z.object({color:l.z.string().nullable(),textSize:l.z.number(),fontFamily:l.z.string()}).optional()}),Fx=Cx.extend({type:l.z.literal("orderedList"),attrs:l.z.object({start:l.z.number()})}),Ax=Cx.extend({type:l.z.literal("bulletList")}),Dx=l.z.discriminatedUnion("type",[Ox,Ex,Xx,Fx,Ax]),Tx=(l.z.object({type:l.z.literal("doc"),content:l.z.array(Dx)}),l.z.object({blockuments:l.z.record(l.z.string(),ix).optional(),items:l.z.record(l.z.string(),xx).optional()}));function Bx(e){return{...e,_v:19}}function Yx(e){return"shape"===e.type?{...e,_v:19,states:Oe(e.states,(e=>({...e,altText:""})),(e=>e))}:{...e,_v:19}}const Nx=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),qx=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),$x=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Hx=$x.extend({x:qx.default({value:0,unit:"px"}),y:qx.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),width:qx.default({value:100,unit:"%"}),height:qx.default({value:100,unit:"%"}),opacity:l.z.number().min(0).max(1).default(1),aspectRatioLocked:l.z.boolean(),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Mx=e=>l.z.intersection($x,e.partial()),Gx=e=>l.z.intersection(l.z.object({default:e}),l.z.record(l.z.string(),Mx(e))),Jx=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Gx(e),assets:l.z.record(l.z.string(),Nx).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(20)}),Kx=(Mx(Hx),l.z.object({default:l.z.string()})),Qx=Hx.extend({audioSources:Kx}),Wx=Jx(Qx).extend({type:l.z.literal("audio")}),Zx=(Mx(Qx),l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:qx.default({value:1,unit:"px"})})),eh=l.z.object({x:l.z.number(),y:l.z.number()}),th=l.z.object({applied:l.z.literal(!1)}),nh=l.z.object({applied:l.z.literal(!0),offset:eh,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),ih=l.z.discriminatedUnion("applied",[th,nh]),ah=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),rh=l.z.object({opacity:l.z.number().min(0).max(1)}),oh=rh.extend({color:l.z.string().optional()}),lh=rh.extend({assetId:l.z.string().optional(),crop:ah}),zh=l.z.object({type:l.z.string()}),dh=zh.extend({cornerRounding:l.z.number().min(0)}),uh=zh.extend({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),sh=zh.extend({type:l.z.literal("ellipse")}),ph=dh.extend({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),ch=zh.extend({type:l.z.literal("cloud")}),mh=dh.extend({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),bh=dh.extend({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),gh=dh.extend({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),fh=dh.extend({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),yh=dh.extend({type:l.z.literal("octagon")}),xh=dh.extend({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),hh=dh.extend({type:l.z.literal("shield")}),jh=dh.extend({type:l.z.literal("speechBubble")}),vh=dh.extend({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),kh=l.z.discriminatedUnion("type",[gh,fh,ch,sh,yh,mh,uh,ph,bh,xh,hh,jh,vh]),Ih=l.z.object({border:Zx,overlay:oh}),Sh=Ih.extend({dropShadow:ih,shapeDef:kh}),wh=l.z.object({fill:oh}),Rh=l.z.object({fill:lh}),Ph=Ih.extend(wh.shape).extend({}),_h=Sh.extend(wh.shape).extend({}),Vh=Sh.extend(Rh.shape).extend({}),Lh=l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()}),Uh=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),Ch=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),Oh=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),Eh=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),Xh=l.z.discriminatedUnion("type",[Uh,Ch,Oh,Eh]),Fh=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(Xh)}),Ah=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Lh).min(0).max(1),triggers:l.z.array(Fh),fonts:l.z.record(l.z.string(),l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),authoringOpened:l.z.boolean(),_v:l.z.literal(20)}),Dh=Hx.extend(Ph.shape).extend({_groupBrand:l.z.never().optional()}),Th=Jx(Dh).extend({type:l.z.literal("group"),children:l.z.array(Lh)}),Bh=(Mx(Dh),Hx.extend(Vh.shape).extend({altText:l.z.string()})),Yh=Jx(Bh).extend({type:l.z.literal("image")}),Nh=(Mx(Bh),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.string(),l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Nh))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.string(),l.z.any()).optional()}),l.z.record(l.z.string(),l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.string(),l.z.any()))),qh=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Nh}),$h=l.z.enum(["top","middle","bottom"]),Hh=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Mh=Hx.extend({text:qh,textVerticalAlign:$h.default("top"),textPadding:Hh}),Gh=Jx(Mh).extend({type:l.z.literal("text")}),Jh=(Mx(Mh),Mh.extend(_h.shape).extend({altText:l.z.string()})),Kh=Jx(Jh).extend({type:l.z.literal("shape")}),Qh=(Mx(Jh),l.z.object({default:l.z.string()})),Wh=Hx.extend({videoSources:Qh}),Zh=Jx(Wh).extend({type:l.z.literal("video")}),ej=(Mx(Wh),l.z.discriminatedUnion("type",[Wx,Th,Yh,Kh,Gh,Zh])),tj=(l.z.object({blockument:Ah.optional(),items:l.z.record(l.z.string(),ej).optional()}),l.z.object({type:l.z.literal("textStyle"),attrs:l.z.object({color:l.z.string(),textSize:l.z.number(),fontFamily:l.z.string()})})),nj=l.z.object({type:l.z.literal("highlight"),attrs:l.z.object({color:l.z.string(),textSize:l.z.number()})}),ij=l.z.object({type:l.z.literal("bold")}),aj=l.z.object({type:l.z.literal("italic")}),rj=l.z.object({type:l.z.literal("underline")}),oj=l.z.object({type:l.z.literal("strike")}),lj=l.z.discriminatedUnion("type",[tj,nj,ij,aj,rj,oj]),zj=l.z.object({type:l.z.literal("hardBreak"),marks:l.z.never().optional(),content:l.z.never().optional(),text:l.z.never().optional()}),dj=l.z.object({type:l.z.literal("text"),marks:l.z.array(lj).optional(),content:l.z.never().optional(),text:l.z.string()}),uj=l.z.discriminatedUnion("type",[dj,zj]),sj=l.z.object({textAlign:l.z.enum(["left","center","right"]),lineHeight:l.z.number()}),pj=sj.extend({level:l.z.union([l.z.literal(2),l.z.literal(3),l.z.literal(4),l.z.literal(5),l.z.literal(6)])}),cj=l.z.union([l.z.array(uj),l.z.array(l.z.lazy((()=>hj)))]),mj=l.z.object({type:l.z.string(),marks:l.z.never().optional(),content:cj.optional(),text:l.z.never().optional()}),bj=mj.extend({type:l.z.literal("paragraph"),attrs:sj}),gj=mj.extend({type:l.z.literal("heading"),attrs:pj}),fj=mj.extend({type:l.z.literal("listItem"),attrs:l.z.object({color:l.z.string().nullable(),textSize:l.z.number(),fontFamily:l.z.string()}).optional()}),yj=mj.extend({type:l.z.literal("orderedList"),attrs:l.z.object({start:l.z.number()})}),xj=mj.extend({type:l.z.literal("bulletList")}),hj=l.z.discriminatedUnion("type",[bj,gj,fj,yj,xj]),jj=(l.z.object({type:l.z.literal("doc"),content:l.z.array(hj)}),l.z.object({blockuments:l.z.record(l.z.string(),Ah).optional(),items:l.z.record(l.z.string(),ej).optional()})),vj=jj;var kj=n(4147);function Ij(e){(0,kj.eS)({callback:e=>{e.marks&&(e.marks=e.marks.filter((e=>"code"!==e.type)))},contentTypes:["text"],doc:e})}function Sj(e){return e.text?.json?(Ij(e.text?.json),e):e}function wj(e){return e.text?.json?(Ij(e.text?.json),e):e}function Rj(e){return e.text?.json?(Ij(e.text?.json),e):e}function Pj(e){return e.text?.json?(Ij(e.text?.json),e):e}function _j(e){return{...e,_v:20}}function Vj(e){switch(e.type){case"text":return{...e,_v:20,states:Oe(e.states,Sj,wj)};case"shape":return{...e,_v:20,states:Oe(e.states,Rj,Pj)};default:return{...e,_v:20}}}const Lj=20,Uj=[{version:3,upgrade:function({blockuments:e,items:t}){return{blockuments:Ce(e??{},(e=>({...e,_v:3}))),items:Ce(t??{},Fe)}},InputSchema:H,OutputSchema:Ue},{version:4,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:4}))),items:Ce(e.items??{},Ct)}},InputSchema:Ue,OutputSchema:Pt},{version:5,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:5}))),items:Ce(e.items??{},En)}},InputSchema:Pt,OutputSchema:Ln},{version:6,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:6}))),items:Ce(e.items??{},Ai)}},InputSchema:Ln,OutputSchema:Xi},{version:7,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:7}))),items:Ce(e.items??{},Ba)}},InputSchema:Xi,OutputSchema:Da},{version:8,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:8}))),items:Ce(e.items??{},Nr)}},InputSchema:Da,OutputSchema:Yr},{version:9,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},Ho),items:Ce(e.items??{},Mo)}},InputSchema:Yr,OutputSchema:$o},{version:10,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:10}))),items:Ce(e.items??{},Zl)}},InputSchema:$o,OutputSchema:Wl},{version:11,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},od),items:Ce(e.items??{},ld)}},InputSchema:Wl,OutputSchema:ad},{version:12,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},fu),items:Ce(e.items??{},hu)}},InputSchema:ad,OutputSchema:pu},{version:13,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},Ss),items:Ce(e.items??{},Ps)}},InputSchema:pu,OutputSchema:Is},{version:14,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},Cp),items:Ce(e.items??{},Xp)}},InputSchema:Is,OutputSchema:Up},{version:15,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},Nc),items:Ce(e.items??{},Mc)}},InputSchema:Up,OutputSchema:Yc},{version:16,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},db),items:Ce(e.items??{},ub)}},InputSchema:Yc,OutputSchema:lb},{version:17,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},Ig),items:Ce(e.items??{},Sg)}},InputSchema:lb,OutputSchema:kg},{version:18,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},oy),items:Ce(e.items??{},ly)}},InputSchema:kg,OutputSchema:ry},{version:19,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},Bx),items:Ce(e.items??{},Yx)}},InputSchema:ry,OutputSchema:Tx},{version:20,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},_j),items:Ce(e.items??{},Vj)}},InputSchema:Tx,OutputSchema:jj}];function Cj(e){const t=Fj(e);return t===Lj?vj.parse(e):Oj(t,Lj)(e)}function Oj(e,t){return i(Ej(e,t).map((({InputSchema:e,upgrade:t,OutputSchema:n})=>i(e.parse,t,n.parse))))}function Ej(e,t){const n=a(e+1,t+1),i=Uj.filter((({version:e})=>n.includes(e)));return r(i,"version")}function Xj(e){const t=Uj.find((t=>t.version===e));if(!t)throw new Error("No converter found for claimed version");return t}function Fj(e){const t=o.B2.parse(e);let n,i;function a(e){if(e)for(const{id:t,_v:a}of Object.values(e))if(null==n)n=a,i=t;else if(n!==a)throw new Error(`Multiple versions found in manifest: { id: ${i}, _v: ${n} } and { id: ${t}, _v: ${a} }`)}return a(t.blockuments),a(t.items),n??Lj}}}]);